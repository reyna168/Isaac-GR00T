## OpenAI è§£é‡‹


å¥½çš„ ğŸš€ æˆ‘ä¾†é€æ®µè§£èªªé€™ä»½ SO100 å¯¦é«”æ©Ÿæ¢°æ‰‹è‡‚æ§åˆ¶ç¨‹å¼ï¼Œè®“ä½ æ¸…æ¥šçŸ¥é“æ¯å€‹éƒ¨åˆ†çš„ç”¨é€”ã€‚é€™ä»½ç¨‹å¼ä¸»è¦æ˜¯ç”¨ä¾† æ§åˆ¶ SO100 æ©Ÿæ¢°è‡‚ï¼Œä¸¦ä¸”å¯ä»¥é¸æ“‡ï¼š

ä½¿ç”¨è¨“ç·´å¥½çš„ Policyï¼ˆAI æ¨è«–ï¼‰ â†’ å³æ™‚åŸ·è¡Œèªè¨€æŒ‡ä»¤ï¼ˆä¾‹å¦‚ã€ŒæŠŠæ°´æœæ”¾åˆ°ç›¤å­è£¡ã€ï¼‰ã€‚

é‡æ’­è³‡æ–™é›† â†’ å¾ Hugging Face ä¸Šçš„å‹•ä½œè³‡æ–™é›†ï¼ˆso100_strawberry_grapeï¼‰é‡ç¾å‹•ä½œã€‚

ğŸ—ï¸ ç¨‹å¼æ¶æ§‹

ä¸»è¦åˆ†æˆä¸‰å¤§éƒ¨åˆ†ï¼š

SO100Robot é¡åˆ¥ â†’ æ©Ÿæ¢°è‡‚çš„å°è£èˆ‡æ§åˆ¶ã€‚

Gr00tRobotInferenceClient é¡åˆ¥ â†’ èˆ‡å¤–éƒ¨æ¨ç†æœå‹™ï¼ˆPolicy Serverï¼‰æºé€šã€‚

Main ä¸»ç¨‹å¼ â†’ é¸æ“‡è¦è·‘ Policy æ¨¡å¼æˆ– Dataset Replay æ¨¡å¼ã€‚

ğŸ”¹ 1. SO100Robot é¡åˆ¥

è² è²¬æ©Ÿæ¢°è‡‚æœ¬é«”çš„é€£ç·šã€æ§åˆ¶ã€åˆå§‹åŒ–èˆ‡é—œæ©Ÿã€‚

åˆå§‹åŒ–
class SO100Robot:
    def __init__(self, calibrate=False, enable_camera=False, cam_idx=9):
        self.config = So100RobotConfig()


calibrate: æ˜¯å¦é‡æ–°æ ¡æ­£ï¼ˆæœƒåˆªæ‰ .cache/calibration/so100ï¼‰

enable_camera: æ˜¯å¦å•Ÿç”¨æ”å½±æ©Ÿ

cam_idx: æŒ‡å®šæ”å½±æ©Ÿ index

å®ƒæœƒå»ºç«‹ So100RobotConfigï¼Œæ±ºå®šæ˜¯å¦å•Ÿå‹•ç›¸æ©Ÿï¼Œä¸¦ç”¨ make_robot_from_config() ç”Ÿæˆ robot ç‰©ä»¶ã€‚

connect()
def connect(self):
    self.motor_bus.connect()
    self.motor_bus.write("Torque_Enable", TorqueMode.DISABLED.value)
    self.robot.activate_calibration()
    self.set_so100_robot_preset()
    self.motor_bus.write("Torque_Enable", TorqueMode.ENABLED.value)


é€£ç·šåˆ°é¦¬é”æ§åˆ¶ç¸½ç·š

é—œé–‰æ‰­åŠ› â†’ æ ¡æ­£ä½ç½®

è¨­å®šæ©Ÿæ¢°è‡‚çš„ æ§åˆ¶æ¨¡å¼èˆ‡ PIDï¼ˆé¿å…æ™ƒå‹•ï¼Œæå‡åŠ é€Ÿåº¦ï¼‰

é–‹å•Ÿæ‰­åŠ›ï¼Œé€²å…¥å¯æ§ç‹€æ…‹

åŒæ™‚æœƒå•Ÿç”¨ç›¸æ©Ÿï¼ˆå¦‚æœ enable_camera=Trueï¼‰ã€‚

set_so100_robot_preset()

è¨­å®šæ©Ÿæ¢°è‡‚çš„æ§åˆ¶åƒæ•¸ï¼š

Mode = 0 â†’ ä½ç½®æ§åˆ¶æ¨¡å¼

P_Coefficient = 10ï¼ˆé™ä½éœ‡å‹•ï¼‰

Acceleration = 254ï¼ˆåŠ é€Ÿåæ‡‰ï¼‰

é€™äº›åƒæ•¸æ˜¯é‡å° Dynamixel é¦¬é”çš„é…ç½®ã€‚

move_to_initial_pose()

è®“æ©Ÿæ¢°è‡‚ç§»å‹•åˆ°é è¨­çš„åˆå§‹å§¿å‹¢ï¼š

current_state = torch.tensor([90, 90, 90, 90, -70, 30])
self.robot.send_action(current_state)

go_home()

ç§»å‹•åˆ°ã€Œhome å§¿å‹¢ã€ï¼Œç”¨ä¸€çµ„å›ºå®šçš„é—œç¯€è§’åº¦ã€‚

è§€æ¸¬èˆ‡æ§åˆ¶

get_observation() â†’ æ“·å–æ©Ÿæ¢°è‡‚çš„å®Œæ•´è§€æ¸¬è³‡æ–™ï¼ˆç‹€æ…‹+å½±åƒï¼‰ã€‚

get_current_state() â†’ å–å¾—ç•¶å‰çš„ 6 ç¶­é—œç¯€ç‹€æ…‹ï¼ˆè‚©è†€ã€æ‰‹è‚˜ã€æ‰‹è…•ã€å¤¾çˆªï¼‰ã€‚

get_current_img() â†’ æ‹æ”å³æ™‚ç›¸æ©Ÿå½±åƒã€‚

set_target_state() â†’ ç™¼é€å‹•ä½œåˆ°æ©Ÿæ¢°è‡‚ã€‚

disconnect()

æ–·é–‹æ©Ÿæ¢°è‡‚é€£ç·šä¸¦é‡‹æ”¾é¦¬é”æ‰­åŠ›ã€‚

ğŸ”¹ 2. Gr00tRobotInferenceClient é¡åˆ¥

è² è²¬å’Œ å¤–éƒ¨æ¨ç†æœå‹™ï¼ˆExternalRobotInferenceClientï¼‰æºé€šï¼Œå°‡ å½±åƒ + æ©Ÿæ¢°è‡‚ç‹€æ…‹ + èªè¨€æŒ‡ä»¤ ç™¼é€çµ¦ AI Policyï¼Œä¸¦æ¥æ”¶å‹•ä½œã€‚

obs_dict = {
    "video.webcam": img[np.newaxis, :, :, :],
    "state.single_arm": state[:5][np.newaxis, :].astype(np.float64),
    "state.gripper": state[5:6][np.newaxis, :].astype(np.float64),
    "annotation.human.task_description": [self.language_instruction],
}
res = self.policy.get_action(obs_dict)


video.webcam â†’ å½±åƒè¼¸å…¥

state.single_arm â†’ æ©Ÿæ¢°è‡‚ 5 ç¶­é—œç¯€ç‹€æ…‹

state.gripper â†’ å¤¾çˆªç‹€æ…‹

annotation.human.task_description â†’ èªè¨€æŒ‡ä»¤ï¼ˆä¾‹å¦‚ã€ŒPick up the fruits...ã€ï¼‰

get_action() â†’ è¼¸å‡º Policy çš„å‹•ä½œåºåˆ—
smaple_action() â†’ æ¸¬è©¦ç”¨ï¼Œè¼¸å…¥é›¶å‘é‡ï¼Œæ‹¿åˆ°ä¸€å€‹éš¨æ©Ÿå‹•ä½œ

ğŸ”¹ 3. Main ä¸»ç¨‹å¼

é€²å…¥é»ï¼Œè§£æåƒæ•¸ï¼š

python so100_eval.py \
    --use_policy \
    --host 10.110.17.183 \
    --port 5555 \
    --lang_instruction "Pick up the fruits and place them on the plate."

å…©ç¨®æ¨¡å¼ï¼š
(A) Policy æ¨¡å¼

å»ºç«‹ Gr00tRobotInferenceClient

å•Ÿå‹• SO100Robot

é€²å…¥è¿´åœˆï¼š

æ‹æ”ç›¸æ©Ÿç•«é¢ + è®€å–ç‹€æ…‹

ä¸Ÿåˆ° Policy â†’ å¾—åˆ°å‹•ä½œåºåˆ—

ä¾åºåŸ·è¡Œæ¯å€‹å‹•ä½œï¼Œé©…å‹•é¦¬é”

å¯é¸æ“‡ç´€éŒ„å½±åƒ

(B) Dataset Replay æ¨¡å¼

è¼‰å…¥ Hugging Face ä¸Šçš„ so100_strawberry_grape dataset

è®€å–å‹•ä½œ & å°æ‡‰å½±åƒ

å°‡è³‡æ–™é›†ä¸­çš„å‹•ä½œä¾åºåŸ·è¡Œåœ¨çœŸå¯¦æ©Ÿæ¢°è‡‚ä¸Š

ä¸¦å°‡å½±åƒèˆ‡å³æ™‚æ”å½±ç•«é¢é€²è¡Œå°ç…§

æœ€å¾Œæœƒç•«å‡ºæ•´æ®µçš„å‹•ä½œåºåˆ—åœ–ã€‚

ğŸ”¹ æ ¸å¿ƒæµç¨‹åœ–
         [Camera] + [Robot State]
                  â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Gr00t Inference AI â”‚ â†â”€â”€ [Lang Instruction]
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
        [Action Chunk] â†’ [SO100Robot] â†’ [Execute]


âœ… ç¸½çµï¼š
é€™æ”¯ç¨‹å¼è®“ SO100 æ©Ÿæ¢°è‡‚èƒ½å¤ ï¼š

ç”¨ AI Policyï¼ˆèªè¨€æŒ‡ä»¤é©…å‹•ï¼‰é€²è¡Œæ“ä½œ

ç”¨è³‡æ–™é›†é‡æ’­æ¨¡å¼ï¼ˆæ¨¡ä»¿ç¤ºç¯„å‹•ä½œï¼‰åŸ·è¡Œä»»å‹™

çœ‹å®Œå¾Œä½ æ‡‰è©²èƒ½ç†è§£ï¼š

SO100Robot = çœŸå¯¦æ©Ÿæ¢°è‡‚çš„ç¡¬é«” API

Gr00tRobotInferenceClient = å’Œ AI æ¨ç†ä¼ºæœå™¨å°æ¥çš„ä»‹é¢

main = é¸æ“‡è¦è·‘ã€ŒAI æ§åˆ¶ã€é‚„æ˜¯ã€Œè³‡æ–™é›†é‡æ’­ã€
